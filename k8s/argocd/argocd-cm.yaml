apiVersion: v1
kind: ConfigMap
metadata:
  name: argocd-cm
  namespace: argocd
  labels:
    app.kubernetes.io/name: argocd-cm
    app.kubernetes.io/part-of: argocd
data:
  # Enable anonymous read-only access (optional)
  # users.anonymous.enabled: "false"
  
  # Application instance label key
  application.instanceLabelKey: argocd.argoproj.io/instance
  
  # Server properties
  server.rbac.log.enforce.enable: "true"
  
  # Timeout settings
  timeout.reconciliation: 180s
  timeout.hard.reconciliation: 0s
  
  # Repository credentials template
  repositories: |
    - url: https://github.com/maringelix/dx03.git
      type: git
    - url: https://github.com/maringelix/tx03.git
      type: git
  
  # Resource customizations
  resource.customizations: |
    networking.k8s.io/Ingress:
      health.lua: |
        hs = {}
        hs.status = "Healthy"
        return hs
